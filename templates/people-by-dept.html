<div ng-controller="PeopleByDeptController">

	<!-- Content Wrapper. Contains page content -->
	<div class="content-wrapper">
		<!-- Content Header (Page header) -->
		<section class="content-header">
			<h1>
				All People By Department
			</h1>
			<ol class="breadcrumb">
				<li><a href="/itracker/"><i class="fa fa-home"></i> Home</a></li>
				<li>People</li>
				<li class="active">By Department</li>
			</ol>
		</section>

		<!-- Main content -->
		<section class="content">
			<input type="text" ng-model="search.name" class="form-control" placeholder="Filter by department name" />
			<div ng-repeat="dept in depts | filter: search | orderBy: 'name'" ng-show="dept.people.length > 0">
				<h2 id = "{{dept.id}}"> {{dept.name}}</h2>
				<div class="row" ng-repeat="personRow in dept.people">
					<div class="col-md-3" ng-repeat="person in personRow">
						<div class="box box-widget widget-user-2">
							<a href ="/itracker/people/{{person.id}}/">
								<div style="min-height:105px;" class="widget-user-header bg-blue">
									<div class="widget-user-image">
										<img class="img-circle" src="{{person.avatar_url}}" alt="User Avatar">
									</div><!-- /.widget-user-image -->
									<h4 style="font-size:20px;" class="widget-user-username">{{person.name}}</h4>
									<h5 style="margin-bottom: 5px;" class="widget-user-desc">{{person.position}}</h5>
									<h5 class="widget-user-desc">{{person.email}}</h5>
								</div>
							</a>
							<div class="box-footer">
								<div class="row">
									<div class="col-sm-4 border-right">
										<div class="description-block">
											<h5 class="description-header">{{person.active}}</h5>
											<span class="description-text">Projects</span>
										</div>
										<!-- /.description-block -->
									</div>
									<!-- /.col -->
									<div class="col-sm-4 border-right">
										<div class="description-block">
											<h5 class="description-header">{{person.todoCount}}</h5>
											<span class="description-text">Tasks</span>
										</div>
										<!-- /.description-block -->
									</div>
									<!-- /.col -->
									<div class="col-sm-4">
										<div class="description-block">
											<h5 class="description-header">{{person.eventCount}}</h5>
											<span class="description-text">Activities</span>
										</div>
										<!-- /.description-block -->
									</div>
									<!-- /.col -->
								</div>
								<!-- /.row -->
							</div>
						</div>
					</div>
				</div>				
			</div>
		</section>
	</div>
</div>